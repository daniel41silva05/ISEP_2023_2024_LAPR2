@startuml
'skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false
skinparam linetype polyline
'skinparam linetype orto

skinparam classAttributeIconSize 0

left to right direction

'class ApplicationSession
'{
'    + static getInstance()
'    + getCurrentSession()
'}

'class UserSession
'{
'    + getUserEmail()
'}

class JobRepository{
    -addJob(job)
    -validateJob(job)

    + CreateJob(name, description)
}

class HRM {
    - String name
}

class Job {
    - String name
    - String description

    + Job(name, description)
}

'class TaskCategory {
'    - String description
'
'    + TaskCategory(description)
'}
'
'class Organization {
'    - String name
'    - String vatNumber
'    - String website
'    - String phone
'    - String email
'
'    - addJob(job)
'    - validateJob(job)
'    + anyHRMHasEmail(email)
'    + Organization(name, vatNumber, webSite, phone, email, postalAddress, manager)
'    + createJob(reference, description, informalDesccription,\ntechnicalDescription, duration, cost, )
'    - getHRMByEmail(email)
'
''  +saveTask(task)
'}

'class TaskCategoryRepository {
'    + getTaskCategoryByDescription(description)
'}

'class OrganizationRepository {
'    + getOrganizationByHRMEmail(email)
'}

class Repositories {
    - Repositories()
    + getInstance() : Repositories
'    + getTaskCategoryRepository()
    + getJobList()
}

class CreateJobController {
    + CreateJobController()
    + createJob(name, description)

}
'
'note right of CreateJobController
'    - userEmail is obtained
'    from the user session
'    - categoryDescription
'    is retrieved from selected data
'end note
'
'note bottom of TaskCategoryRepository
'    - used for displaying
'    the category list
'end note

class CreateJobUI {
}

Repositories -> Repositories : instance

CreateJobUI .> CreateJobController

CreateJobController .> Repositories : repositories

'Repositories -> "1" TaskCategoryRepository

'CreateTaskController ..> TaskCategory
'CreateJobController ..> OrganizationRepository : organizationRepository
'CreateTaskController ..> TaskCategoryRepository : TaskCategoryRepository

'Repositories --> "1" OrganizationRepository

'OrganizationRepository --> "*" Organization
'ApplicationSession --> "1" UserSession : userSession

'CreateJobController ..> "1" Organization : organization
'CreateJobController ..> ApplicationSession
CreateJobController ..> JobRepository : JobRepository
Repositories --> "1" JobRepository

'Task "*" --> "1" TaskCategory : taskCategory
'TaskCategoryRepository "1" --> "*" TaskCategory : taskCategory
'Organization "1" --> "*" Task : tasks
Job --> HRM : createdBy
JobRepository --> "*" Job

'HRM --> "*" Organization : belongs to

@enduml