@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false


autonumber

'hide footbox

actor "HRM" as HRM
participant ":RegisterJobUI" as UI
participant ":RegisterJobController" as CTRL
participant ":JobRepository" as JOBS
participant ":Repositories" as REP
participant "repositories\n:Repositories" as PLAT
participant "job\n:Job" as JOB


activate HRM

        HRM -> UI : asks to create a new job

        activate UI

            create CTRL
            UI -> CTRL** : create

            activate JOBS
            CTRL -> JOBS : getJobRepository

            activate CTRL
            JOBS -> CTRL : jobRepository

            deactivate JOBS

            UI --> HRM : shows all jobs category existing to date or asks to create one

            HRM --> UI : selects an option

            UI --> HRM : requests data (name, description)



    HRM -> UI : types requested data (name, description)


    HRM -> UI : submits data

        UI -> CTRL : registerJob(name,description)

            deactivate UI
                CTRL -> REP : getInstance()
                activate REP

                    REP --> CTRL: repositories
                deactivate REP

                CTRL -> PLAT: getJobRepository()

                activate PLAT

                PLAT --> CTRL: jobRepository
                deactivate PLAT


            |||
            CTRL -> JOBS: registerJob(name, description)
            activate JOBS

            |||

            activate JOB
            JOBS -> JOB: registerJob(name,description)

            |||

            JOBS -> JOBS: addJob(job)
            deactivate JOB
            |||

            JOBS -> JOBS: validateJob(job)
            |||

            JOBS -> JOBS
            |||

            JOBS -> JOBS
            |||


            JOBS --> CTRL: job

            activate UI
            CTRL --> UI: job

            deactivate JOBS


            UI --> HRM: displays operation success
    deactivate UI

deactivate HRM

@enduml