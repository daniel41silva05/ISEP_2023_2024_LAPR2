@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

'hide footbox
actor "HRM" as HRM
participant ":CreateJobUI" as UI
participant ":CreateJobController" as CTRL
participant "hrm\n:HRM" as HRM
participant "jobList" as LIST

activate HRM

    HRM -> UI : asks to create a new job

    activate UI

        UI -> CTRL** : create
        UI -> CTRL : getJobList()
        ref over CTRL
            Get Job List

        end ref

        activate CTRL

            CTRL --> UI : jobList
        deactivate CTRL

        UI --> HRM : shows the list of all jobs inserted so far
    deactivate UI

    HRM -> UI : selects an option
    activate UI

    alt HRM decides not to create a new job
        UI --> HRM : display operation success
    end

        UI --> HRM : requests data
    deactivate UI

    HRM -> UI : types requested data (name, description)
    activate UI

        UI --> HRM : shows inserted data and ask to confirm
    deactivate UI

    HRM -> UI : confirm data
    activate UI

        UI -> CTRL : createJob(name, description,reference)
        activate CTRL

'            CTRL -> CTRL : getTaskCategoryByDescription(taskCategoryDescription)
            activate CTRL

                ref over CTRL
                    Get Job List

                end ref

                CTRL --> CTRL : jobList
            deactivate CTRL

            CTRL -> CTRL : getEmployeeFromSession()
            activate CTRL

                ref over CTRL
                    Get Employee

                end ref
                CTRL -> CTRL : employee
            deactivate CTRL

            CTRL -> HRM: createJob(name, description,reference,jobList,hrm)

            CTRL -> LIST : saveJob

            activate HRM

                ref over HRM
                    Create Job

                end

                HRM --> CTRL : job
            deactivate HRM

            CTRL --> UI: job
            deactivate CTRL
            UI --> HRM: displays operation success
    deactivate UI

deactivate HRM

@enduml