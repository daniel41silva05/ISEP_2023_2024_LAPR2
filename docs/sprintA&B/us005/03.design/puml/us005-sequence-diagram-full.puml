@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

'hide footbox
actor "Human Resources Manager" as HRM
participant ":GenerateTeamUI" as UI
participant ":GenerateTeamController" as CTRL
participant ":Repositories" as REP
participant "repositories\n:Repositories" as REPS
participant ":SkillRepository" as SREP
participant "GenerateTeamRepository:\nTaskCategoryRepository" as GTREP
participant "team\n:Team" as T


activate HRM

    HRM -> UI : Initiates a team proposal generation
    activate UI

        UI -> CTRL** : create

    UI --> HRM : Requests data (min and max team size)
    deactivate UI

    HRM -> UI : Types requested data
    activate UI

        UI -> CTRL : getSkillsList()
        activate CTRL

            CTRL -> REP : getInstance()
            activate REP

            REP --> CTRL: repositories
            deactivate REP

            CTRL -> REPS : getSkillRepository()
            activate REPS

            REPS --> CTRL: SkillRepository
            deactivate REPS

            CTRL -> SREP: getSkillsList()
            activate SREP

            SREP --> CTRL : SkillsList
            deactivate SREP

            CTRL --> UI : SkillsList
            deactivate CTRL

    UI --> HRM : shows the list of skills and asks to select one
    deactivate UI

    HRM -> UI : chooses skill
    activate UI

    UI --> HRM : generate the team proposal and requests confirmation
    deactivate UI

    HRM -> UI : confirms the team generated
    activate UI

        UI -> CTRL: generateTeam(minSize, maxSize, skill)
        activate CTRL

            CTRL -> REP: getInstance()
            activate REP

            REP --> CTRL: repositories
            deactivate REP

            CTRL -> REPS: getGenerateTeamRepository()
            activate REPS

            REPS --> CTRL: generateTeamRepository
            deactivate REPS

            CTRL -> GTREP: generateTeam(minSize, maxSize, skill)
            activate GTREP

                GTREP -> T** : generate(minSize, maxSize, skill)

                GTREP -> GTREP: addTeam(team)

                GTREP -> GTREP: validateTeam(team)

            GTREP --> CTRL: collaborator
            deactivate GTREP

        CTRL --> UI: collaborator
        deactivate CTRL

    UI --> HRM: displays operation success
    deactivate UI

deactivate HRM

@enduml